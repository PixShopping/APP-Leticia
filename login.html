<!DOCTYPE html
<html lang="pt-BR">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="icon" href="./imagem/icon.png" type="x-icon">
		<link type="stylesheet" src="./style.css">
		<title> Let√≠cia / Login </title>
		      
		<style scoped>

			:root {
				/* Cores do aplicativo */
				--one: #002242;
				--two: #144774;
				--tree: #336FA5;
				--four: #4E8BB8;
				--five: #6FADD2;
				--six: #9ECAE3;
				--green: green;
				--red: red;
			}
			
			*  {
				padding: 0;
				margin: 0;
				border: 0;
				box-sizing: border-box;
			}
			
			body {
				background: var(--one);
				color: white;
				user-select: none;
				font-family: 'Arial';
				overflow-x: hidden;
            }
            
            .container {
            	width: 100vw;
            	height: auto;
            	padding: 0px 0px 20px 0px;
            	display: flex;
            	flex-direction: column;
            	align-items: center;
            }
            
            .container img {
            	width: 65vw;
            	height: auto;
            	margin: 20px 0px 0px 0px;
            }
            
            .container ion-icon {
            	font-size: 70px;
            	margin: 0px;
            }
            
            .container h1 {
            	font-size: 25px;
            	margin: 0px;
            	letter-spacing: 0.8px;
            }
            
            /* ADMIN */
            
            .admin, .responsavel {
            	display: none;
            	flex-direction: column;
            	width: auto;
            	height: auto;
            }
            
            .admin label, .responsavel label {
            	color: white;
            	font-size: 16.9px;
            	font-weight: 600;
            	letter-spacing: 0.5px;
            	display: flex;
            	align-items: center;
            	padding: 0px 0px 4px 0px;
            }
            
            .admin label ion-icon, .responsavel label ion-icon {
            	margin: 0px 3px 2.5px 0px;
            	font-size: 17px;
            }
            
            .admin input, .responsavel input {
            	width: 70vw;
            	height: 40px;
            	border-radius: 4px;
            	border: none; 
            	background: var(--two);
            	color: white;
            	padding: 10px;
            	font-size: 16px;
            	box-shadow: 5px 4px 1px var(--five);
            	margin: 0px 0px 30px 0px;
            }
            
            .admin button, .responsavel button {
            	width: 65vw;
            	height: 38px;
            	border-radius: 3.5px;
            	border: none; 
            	background: var(--two);
            	color: white;
            	font-size: 16px;
            	box-shadow: 5px 4px 1px var(--five);
            	margin: 15px auto 10px auto;
            }
            
            #alertaUsuario, #alertaSenha, #alertaNome, #alertaMae, #alertaSerie, #alertaNascimento {
            	margin: 1px 0px 0px 5px;
            	font-size: 16px;
            }
            
            
            </style>
           </head>
           
           <body>
           	
           	<main class="container">
           		
           		<img src="./src/img/logo.png">
           		
           		<section class="content">
	           		<div onclick="responsaveis()" style="margin: 20px 0px 60px 0px;display: flex;flex-direction: column;align-items: center;">
	           			<ion-icon name="people"></ion-icon>
	           			<h1>Responsaveis</h1>
	           		</div>
	           		
	           		<div onclick="secretaria()" style="margin: 0px 0px 0px 0px;display: flex;flex-direction: column;align-items: center;">
		           		<ion-icon name="bus"></ion-icon>
		           		<h1>Secretaria</h1>
	           		</div>
           		</section>
           		
           		<!-- ADMIN -->
           		<section class="admin">
           			<label>
           				<ion-icon name="person"></ion-icon>
           				Usuario: 
           				<p id="alertaUsuario"></p>
           			</label>
	           		<input oninput="inputusuario()" id="usuario" type="text">
	           		<label>
	           			<ion-icon name="key"></ion-icon>
	           			Senha:
	           			<p id="alertaSenha"></p> 
	           		</label>
	           		<input oninput="inputsenha()" id="senha" type="password">
	           		<button onclick="loginSecretaria()">Login</button>
           		</section>
           		
           		<!-- RESPONSAVEL -->
           		<section class="responsavel">
           			<label>
           				<ion-icon name="person"></ion-icon>
           				Nome da Mae: 
           				<p id="alertaMae"></p>
           			</label>
	           		<input oninput="inputmae()" id="mae" type="text">
	           		<label>
	           			<ion-icon name="key"></ion-icon>
	           			Nome do Aluno:
	           			<p id="alertaNome"></p> 
	           		</label>
	           		<input oninput="inputnome()" id="nome" type="text">
	           		<label>
	           			<ion-icon name="key"></ion-icon>
	           			Serie:
	           			<p id="alertaSerie"></p> 
	           		</label>
	           		<input oninput="inputserie()" id="serie" type="text">
	           		<label>
	           			<ion-icon name="key"></ion-icon>
	           			Data do Nascimento:
	           			<p id="alertaNascimento"></p> 
	           		</label>
	           		<input oninput="inputnascimento()" id="nascimento" type="text">
	           		<button onclick="loginResponsavel()">Login</button>
           		</section>
           		
           	</main>
           	
           	
           </body>
           
       <!-- JavaScript -->
       <script>
	       
       function inputmae() {
	const MAE = document.getElementById('mae').value;
	document.getElementById('mae').value = MAE.toUpperCase();
       }

	function inputnome() {
	 const NOME = document.getElementById('nome').value;
	 document.getElementById('nome').value = NOME.toUpperCase();
	}

	function inputserie() {
	 const SERIE = document.getElementById('serie').value;
	 document.getElementById('serie').value = SERIE.toUpperCase();
	}

	function inputnascimento() {
	 const NASCIMENTO = document.getElementById('nascimento').value;
	 document.getElementById('nascimento').value = NASCIMENTO.toUpperCase();
	}
	       
       //Funcao dos Responsaveis
       function loginResponsavel() {
	const MAE = document.getElementById('mae').value;
       	const NOME = document.getElementById('nome').value;
       	const SERIE = document.getElementById('serie').value;
       	const NASCIMENTO = document.getElementById('nascimento').value;
	       
       	// Alerta
       	const alertaMae = document.getElementById('alertaMae');
       	const alertaNome = document.getElementById('alertaNome');
       	const alertaSerie = document.getElementById('alertaSerie');
       	const alertaNascimento = document.getElementById('alertaNascimento');
       	
       	
       	// Dados / Usuarios / Mae / Nome, Serie, Nascimento
	       	fetch("https://app-leticia.netlify.app/src/apis/dados.json").then((response) => {
	       	response.json().then((dados) => {
		    dados.usuarios.map((res) => {
	       		if (MAE === res.mae) {
	       		 alertaMae.innerHTML = "Valido";
       			 alertaMae.style.color = "var(--green)";
       				// Percorrer dados do aluno
		       		res.aluno.map((usuario) => {
				        // Verificar o Nome do aluno
		       			if (NOME === usuario.nome) {
		       				alertaNome.innerHTML = "Valido"
		       				alertaNome.style.color = "var(--green)";
		       			} else {
		       				alertaNome.innerHTML = "Invalido"
		       				alertaNome.style.color = "var(--red)";
		       			}
		       			
		       			// Verificar a Serie do aluno
		       			if (SERIE === usuario.serie) {
		       				alertaSerie.innerHTML = "Valido";
		       				alertaSerie.style.color = "var(--green)";
		       			} else {
		       				alertaSerie.innerHTML = "Invalido";
		       				alertaSerie.style.color = "var(--red)";
		       			}
		       			
		       			// Verificar o Nascimento do aluno
		       			if (NASCIMENTO === usuario.nascimento) {
		       				alertaNascimento.innerHTML = "Valido"
		       				alertaNascimento.style.color = "var(--green)";
		       			} else {
		       				alertaNascimento.innerHTML = "Invalido"
		       				alertaNascimento.style.color = "var(--red)";
		       			}
		       			
		       			if (NOME === usuario.nome && SERIE === usuario.serie && NASCIMENTO === usuario.nascimento) {
		       				localStorage.setItem('logado', 'RESPONSAVEL');
						window.location.href = "./home.html";
					}
				})
       			} else {
	       			alertaMae.innerHTML = "Invalido";
       				alertaMae.style.color = "var(--red)";
	       		}
		    })
		  })
	       })
       }

       function inputusuario() {
	 const USUARIO = document.getElementById('usuario').value;
       	 document.getElementById('usuario').value = USUARIO.toUpperCase();
       }

       function inputsenha() {
	 const SENHA = document.getElementById('senha').value;
       	 document.getElementById('senha').value = SENHA.toUpperCase();
       }
       
       // Funcao da SECRETARIA
       function loginSecretaria() {
       	const USUARIO = document.getElementById('usuario').value;
       	const SENHA = document.getElementById('senha').value;
       	
       	const alertaUsuario = document.getElementById('alertaUsuario');
       	const alertaSenha = document.getElementById('alertaSenha');
       	
       	fetch("https://app-leticia.netlify.app/src/apis/dados.json").then((response) => {
       		response.json().then((dados) => {
       			dados.secretaria.map((login) => {
       				// VALIDAR SENHA
			       	if (SENHA !== login.senha) {
			       		alertaSenha.innerHTML = "Senha incorreta";
			       		alertaSenha.style.color = "var(--red)";
			       	} else {
			       		alertaSenha.innerHTML = "Senha correta";
			       		alertaSenha.style.color = "var(--green)";
			       	}
			       	
			       	// VALIDAR USUARIO
				    	if (USUARIO !== login.usuario) {
				    		alertaUsuario.innerHTML = "Usuario incorreto";
				    		alertaUsuario.style.color = "var(--red)";
				    	} else {
				    		alertaUsuario.innerHTML = "Usuario correto";
				    		alertaUsuario.style.color = "var(--green)";
				    	}
				    	
			       	// Login
			       	if (USUARIO === login.usuario && SENHA === login.senha) {
			       		setTimeout( () => {
			       			localStorage.setItem('logado', 'ADMIN');
						window.location.href = "./home.html";
			       		}, 1500);
			       	}
       			})
       		})
       	})
       	
       }
       
       //localStorage.clear()
       
       // Responsaveis e Secretaria
       const content = document.querySelector('.content');
       const admin = document.querySelector('.admin');
       const responsavel = document.querySelector('.responsavel');
       
       
       function responsaveis() {
       	content.style.display = "none";
       	responsavel.style.display = "flex";
       }
       
       function secretaria() {
       	content.style.display = "none";
       	admin.style.display = "flex";
       }
       
       </script>
       
       <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
	<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

</html>
